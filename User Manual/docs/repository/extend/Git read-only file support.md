---
title: Поддержка файлов только для чтения в Git
authors:
  - name: No Mo
    url: https://gitee.ru/normalcoder
origin-url: https://gitee.ru/help/articles/4256
---

В проекте приложения обычно есть несколько файлов для описания конфигурационной информации в производственной среде, например информация о подключении к сервису, информация о конфигурации среды и т. д. Однако в процессе локальной разработки необходимо скорректировать конфигурацию этих файлов в соответствии с локальной средой обслуживания. Если эти изменения будут случайно зафиксированы, это может привести к тому, что приложение в производственной среде не будет работать должным образом.

Поэтому в SVN есть очень полезная функция, которая позволяет настроить определенные файлы как доступные только для чтения и не разрешать отправку модификаций.

Однако сам Git такой возможности не имеет. Основные платформы Git обычно предоставляют ветки, доступные только для чтения, но не могут обеспечить ограничения только для чтения отдельных файлов или папок.

Это можно использовать следующим образом:

1. Перейдите на страницу репозитория, нажмите правой кнопкой мыши на файле или папке, которые вы хотите установить как доступные только для чтения, и выберите 'Mark as Read-Only' (разрешение есть только у администраторов репозитория).
![Описание изображения](https://images.gitee.ru/uploads/images/2019/0618/164916_d5bbd348_4764813.png "Screenshot_20190618_164105.png")
![Описание изображения](https://images.gitee.ru/uploads/images/2019/0618/165006_76435672_4764813.png "Screenshot_20190618_164151.png")
2. Перейдите на страницу управления репозиторием, чтобы просмотреть и управлять всеми настройками репозитория, доступными только для чтения.
![Описание изображения](https://images.gitee.ru/uploads/images/2019/0618/165746_d75a7620_4764813.png "readonly-list.png")
3. Если при отправке кода будут внесены изменения в файлы, доступные только для чтения, произойдет ошибка:

Ошибка ввода кода:

![Описание изображения](https://images.gitee.ru/uploads/images/2019/0618/172009_01d60e4e_4764813.png "push.png")

Ошибка слияния PR-кода: 

![Описание изображения](https://images.gitee.ru/uploads/images/2019/0618/170248_fda5e3dd_4764813.png "pr-merge.png")

4. Существует три способа устранения ошибок, связанных только с чтением

- Вернуть содержимое файлов, доступных только для чтения, в исходное состояние

> Измените содержимое соответствующего файла, доступного только для чтения, чтобы оно соответствовало онлайн-версии для нормального продвижения.

- Команда `git reset --hard <tree-ish>`.

> Для отмены после фиксации изменений в файлах, доступных только для чтения, используйте команду 'git reset --hard <tree-ish>', затем вы сможете нормально выполнить отправку данных.

Отменить флаг "только для чтения" соответствующего файла (могут работать только администраторы репозитория)

> Пользователи с правами управления репозиторием могут снять отметку "только для чтения" для соответствующего файла в директории репозитория или на странице управления репозиторием.

В настоящее время эта функция доступна только для пользователей платной версии Enterprise Edition.