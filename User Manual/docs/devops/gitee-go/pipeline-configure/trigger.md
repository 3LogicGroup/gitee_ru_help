---
title: Trigger Events
authors:
  - name: No Mo
    url: https://gitee.ru/normalcoder
slug: /gitee-go/pipeline/trigger
description: What is Gitee Go
origin-url: 
---

Trigger events are the 'triggers' that pipelines can execute, divided into Push triggers, Pull Request triggers, and scheduled triggers.

### Push Trigger

Push events are generated by three actions: local push, branch merge, and PR merge. Therefore, as long as the Push event triggering is configured in the pipeline, all three operations will automatically trigger the pipeline execution.

In the Push event, provide the following three matching rules. The three matching rules are intersected, meaning that all rules must be satisfied for the pipeline to be triggered.

- Branch Matching: There are four matching rules
  - Prefix Matching: For example, if you enter 'dev', it will match all branches starting with 'dev'. When left blank, it matches all branches.
  - Exact match: If 'dev' is filled in, only the 'dev' branch will be matched.
- Regular expression matching: For example, if you fill in 'dev.*', it will match all branches with the prefix 'dev'
- Exact exclusion: If 'dev' is filled in, submitting code to the 'dev' branch will not trigger the pipeline. Exact exclusion rules have the highest priority and are usually used in conjunction with other rules.
- Tag Match: Same as branch match, there are four matching rules
- Prefix matching: For example, if you enter 'v1', it will match all Tags starting with 'v1'. When left blank, it matches all Tags.
- Exact Match: For example, if you enter 'v1.1.1', it will only match the 'v1.1.1' Tag.
  - Regular expression match: If "v1.*" is filled in, it will match all tags starting with "v1"
Exact exclusion: If filled with `v1.1.1`, creating a `v1.1.1` Tag will not trigger the pipeline. Exact exclusion rules have the highest priority and are usually used in combination with other rules.
Commit comment keyword matching: only supports regular expression matching
Regular expression matching: If filled with `.*build.*`, then any Commit Message that contains the keyword 'build' will trigger the pipeline.

 **Specific Scenarios:**
The branch is configured for exact match 'master', the tag is configured for prefix match 'v1', and the commit comment keyword is configured for '.*build.*', as shown in the following figure
![Push specific scenario](https://images.gitee.ru/uploads/images/2021/1117/132658_cb370f63_5192864.png)
So:

- When committing to master, but the Commit Message is "Gitee Go", the pipeline cannot be triggered
- When code is submitted to master but Commit Message is 'Gitee build
Go', the pipeline can be triggered
When pushing Tag v1.10.1, but Commit Message is "Gitee Go", the pipeline cannot be triggered
- When pushing Tag as v1.10.1, but the Commit Message is 'Gitee build Go', the pipeline can be triggered.

 **Use Case:**
**[Recommended]** You can define it in the visual editing interface:
![Push Configuration](https://images.gitee.ru/uploads/images/2021/1117/132749_6dd78ade_5192864.png)

 **You can define directly in Yml:**

```yaml
# Indicates enabling automatic triggering of pipelines
triggers:
Enable push event monitoring, which can match branches, tags, and commit comments (Commit Message).
  push:
Enable branch matching, supports alphanumeric characters (including upper and lower case), hyphens, underscores, and common characters, with a maximum of 64 characters.
    branches: 
# Enable prefix matching, you can fill in multiple prefixes, if not filled, it will listen to all branches by default
      prefix:
        - release
# Enable precise matching, you can fill in multiple branches, please fill in the complete branch name
      precise:
        - master
# Enable regular expression matching, you can enter multiple regular expressions, please fill in the regular expression
      include:
        - master
        - dev*
# Enable precise exclusion, you can fill in multiple branches, please fill in the complete branch name
      exclude:
        - release
    # Enable Tag matching, supports numbers, letters (including upper and lower case), hyphen, underscore, and common characters, up to 64 characters
    tags:
      # Enable prefix matching, you can fill in multiple prefixes, if not filled, it will listen to all tags by default
      prefix:
        - v1
      # Enable exact matching, you can fill in multiple tags, please fill in the complete tag name
      precise:
        - v1.1.1
# Enable regular expression matching, you can enter multiple regular expressions, please fill in the regular expression
      include:
        - ^v1.*
      # Enable precise exclusion, you can fill in multiple tags, please fill in the complete tag name
      exclude:
        - v3
    # Enable commit comment monitoring, support Chinese, numbers, letters (including uppercase and lowercase), hyphens, underscores, and general characters, maximum of 256 characters
    commitMessages:
# Enable regular expression matching, you can enter multiple regular expressions, please fill in the regular expression
      include:
        - '.*Deploy Test'
```

### Pull Request Trigger

- Pull Request events are triggered by PR initiation and PR update actions on the page. Therefore, as long as the Push event trigger is configured in the pipeline, both of these operations will automatically trigger the pipeline execution.
- Under the Push event, provide the following three matching rules. The three matching rules are intersected, which means that only when all rules are satisfied can the pipeline be triggered.
  - Branch Matching: There are four matching rules as follows
  - Prefix matching: If filled with `dev`, it will match all branches starting with `dev`; when left blank, it matches all branches
    - Exact match: If you fill in `dev`, it will only match the `dev` branch.
    - Regular expression matching: For example, if you fill in 'dev.*', it will match all branches with the prefix 'dev'.
  - Exact exclusion: If filled with 'dev', submitting code to the 'dev' branch will not trigger the pipeline. Exact exclusion rules have the highest priority and are usually used in combination with other rules.
  - Submit comment keyword matching: Only regular matching is supported, which matches the title when submitting a PR, as shown in the figure below
- Regular expression match: If filled with `.*build.*`, it means any Commit Message that contains the keyword `build` can trigger the pipeline.
![PR Title Match](https://images.gitee.ru/uploads/images/2021/1117/134808_d8a4ebdd_5192864.png )

  - Comment Match: Only supports regular expression matching. After matching the PR initiated here, comment on the PR, as shown in the figure below.
  - Regular expression matching: If filled with `*build.*`, any Commit Message containing the keyword `build` can trigger the pipeline.
![PR Comment Match](https://images.gitee.ru/uploads/images/2021/1117/134851_00dc225d_5192864.png )

**Important: Explanation of logic when PR triggers build!!!**
When initiating a PR, there are two main branches: the source branch and the target branch. The following content illustrates all scenarios using an example of initiating a PR from the dev branch to the master branch. In this case, dev is the source branch and master is the target branch.

- **Create PR**: Initiate a PR from dev to master. Based on the latest commit in dev branch, the pipeline is triggered. During the code pulling process in the pipeline's build task, automatic pre-merge is performed, which means the built code includes the incremental code from both master and dev branches.
After PR creation, if there are code updates in master, it will not cause changes to this PR.
- After the PR is created, submit the patch to dev, which will trigger the PR update. The logic at this time is the same as when the PR is created. Still read the yml under the latest commit in the dev branch and generate the pipeline.
- **After creating a PR**, commenting on the PR will trigger an update to the PR. The logic at this point is the same as when the PR was created. It still reads the yml file under the latest commit in the source branch 'dev' and generates a pipeline.
- **After merging the PR**, a push message will be generated, which will not cause any changes to this PR.

 **Use Case:**
**[Recommended]** You can define it in the visual editing interface:
![PR Edit](https://images.gitee.ru/uploads/images/2021/1117/135019_2a378fbf_5192864.png )

 **You can define directly in Yml:**

```yaml
# Indicates enabling automatic triggering of pipelines
triggers:
Enable pull request event monitoring, can match branches, commit comments (PR Title), comments
  pr:
Enable branch matching, supports alphanumeric characters (including upper and lower case), hyphens, underscores, and common characters, with a maximum of 64 characters.
    branches: 
# Enable prefix matching, you can fill in multiple prefixes, if not filled, it will listen to all branches by default
      prefix:
        - release
# Enable precise matching, you can fill in multiple branches, please fill in the complete branch name
      precise:
        - master
# Enable regular expression matching, you can enter multiple regular expressions, please fill in the regular expression
      include:
        - master
        - dev*
# Enable precise exclusion, you can fill in multiple branches, please fill in the complete branch name
      exclude:
        - release
    # Enable commit comment monitoring, support Chinese, numbers, letters (including uppercase and lowercase), hyphens, underscores, and general characters, maximum of 256 characters
    commitMessages:
# Enable regular expression matching, you can enter multiple regular expressions, please fill in the regular expression
      include:
        - '.*Deploy Test'
# Enable PR comment monitoring, supports Chinese, numbers, letters (including uppercase and lowercase), hyphens, underscores, and common characters, maximum
    comments:
# Enable regular expression matching, you can enter multiple regular expressions, please fill in the regular expression
      include:
        - '.*Deploy Test'
```

Triggered by a schedule

Fill in the cron expression according to the standard format, with default values for second level.
Basic Rules

```yaml
The format of the cron file is: M H D m d y
M: Minutes (0-59)
H: Hour (0-23)
D: Day (1-31)
m: Month (1-12)
d: Days of the week within a week (1~7) Note: Based on foreign time, Sunday is 1
y: year, optional

In addition to numbers, there are several special symbols '*', '/', '-' and ','
*: Represents any value within the range of numbers
/: represents every
*/5: Indicates every 5 units
-: Represents from a certain number to a certain number,
Separate several discrete numbers with ,

0 */2 * * ?   Every two hours
From 11 PM to 7 AM every two hours, and at 8 AM
Trigger at 10:15 AM on Sundays to Thursdays
0 12 ? * 4 represents every Wednesday at 12:00 noon

Note: The week and day cannot be used together with *, otherwise conflicts may occur. Also, make sure to use the English input method.
```

 **Use Case:**
**[Recommended]** You can define it in the visual editing interface:
![Scheduled Trigger](https://images.gitee.ru/uploads/images/2021/1117/135149_495ccbeb_5192864.png )

 **You can define directly in Yml:**

```yaml
# Indicates enabling automatic triggering of pipelines
triggers:
  schedule:
      # Currently only one cron expression is supported, multiple expressions are not yet available
    - cron: '0 */2 * * ?'
```