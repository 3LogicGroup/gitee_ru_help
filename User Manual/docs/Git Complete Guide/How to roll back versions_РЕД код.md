---
title: Как откатить версии
authors:
  - name: No Mo
    url: https://gitee.ru/normalcoder
origin-url: https://gitee.ru/help/articles/4195
---

Существует несколько способов отката версий, которые мы продемонстрируем по очереди

### Откат к текущей версии (отмена всех изменений)

![Описание изображения](https://static.oschina.net/uploads/img/201603/10161457_lf5m.gif)

### Отмена изменений в конкретном файле

![Описание изображения](https://static.oschina.net/uploads/img/201603/10161707_dstz.gif)

### Откат к определенной версии, но сохранение изменений из этой версии

![Описание изображения](https://static.oschina.net/uploads/img/201603/10162127_dLHO.gif)

### Откат к определенной версии и отмена всех изменений

![Описание изображения](https://static.oschina.net/uploads/img/201603/10162634_CKmm.gif)

### Откат к версии удаленного репозитория

Сначала переключитесь на локальную ветку, соответствующую ветке удаленного репозитория, на которую вы хотите откатиться, затем откатитесь локально до нужной вам версии, а затем выполните команду:

```bash
git push <repository> <branch> -f
```

### Как откатить заданное количество коммитов на основе текущей версии

Сначала уточните, на сколько версий вам нужно откатиться от текущей версии, а затем рассчитайте количество версий, на которые вы хотите откатиться. Выполните следующую команду

```bash
git reset HEAD~X // X - это количество версий, которые вы хотите вернуть, это число!
```

Обратите внимание, что если у вас есть слитые ветки, то коммиты, принесенные слитыми ветками, не будут учитываться в количестве откатов, а будет учитываться только один коммит. Поэтому, если вам нужно откатить сразу несколько коммитов, использовать этот метод не рекомендуется.

### Как откатиться до той же версии, что и удаленная.

Иногда, когда вам нужно отменить все изменения, сделанные из-за ошибки, вы можете вернуться к той же точке, что и удаленная ветка, в качестве точки отката. Для этого нужно выполнить следующую команду:

```bash
git reset --hard origin/master // origin представляет собой имя вашего удаленного репозитория, master - имя ветви
```