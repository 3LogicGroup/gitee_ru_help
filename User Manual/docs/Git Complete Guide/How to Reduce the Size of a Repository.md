---
title: Как уменьшить размер репозитория
authors:
  - name: No Mo
    url: https://gitee.ru/normalcoder
origin-url: https://gitee.ru/help/articles/4199
---

Платформа Gitee в настоящее время обеспечивает размер репозитория только 500 Mб, а размер отдельного файла ограничен 100 Mб. Если вы случайно включите в репозиторий большой двоичный файл, он быстро превысит указанный размер. В этом случае необходимо оптимизировать репозиторий, чтобы предотвратить его недоступность из-за превышения указанного размера. Вот команда для оптимизации размера хранилища:

Просмотр больших файлов в хранилище

```bash
git rev-list --objects --all | grep -E `git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -10 | awk '{print$1}' | sed ':a;N;$!ba;s/
/|/g'`
```

Переписать историю, удалить большие файлы

```bash
git filter-branch --tree-filter 'rm -f path/to/large/files' --tag-name-filter cat -- --all
git push origin --tags --force
git push origin --all --force
```

Сообщите всем членам команды, что перед отправкой кода им нужно выполнить команду rebase, а не merge. В противном случае это приведет к внедрению репозитория из локального репозитория члена команды в удаленный репозиторий, в результате чего репозиторий будет заблокирован системой Gitee.

Для просмотра более конкретных операций вы можете нажать [здесь](http://my.oschina.net/jfinal/blog/215624?fromerr=ZTZ6c38X).