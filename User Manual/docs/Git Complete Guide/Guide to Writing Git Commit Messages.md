---
title: Рекомендации по написанию сообщений для коммитов в Git
authors:
  - name: No Mo
    url: https://gitee.ru/normalcoder
origin-url: https://gitee.ru/help/articles/4231
---

## Введение

В Git каждый раз, когда вы создаете коммит кода, вам необходимо написать сообщение о коммите, иначе коммит не будет разрешен. Эта операция выполняется с помощью git commit.

```bash
git commit -m "hello world"
```

> Параметр -m в приведенном выше коде используется для указания сообщения о коммита.

Если одной строки недостаточно, вы можете просто выполнить команду `git commit`, и она вызовет текстовый редактор, в котором вы сможете написать несколько строк.

```bash
git commit
```

## Формат

Сообщение о коммите состоит из трех частей: заголовка, тела и нижнего колонтитула. Его структуру можно представить в следующем формате:

```bash
<type>(<scope>): <subject>

<body>

<footer>
```

> Заголовок обязателен, тело и нижний колонтитул могут быть опущены (по умолчанию игнорируются). Как правило, параметр '-m', указываемый при коммита с помощью 'git commit', эквивалентен указанию заголовка по умолчанию.

> Независимо от раздела, ни одна строка не должна превышать 72 символа (или 100 символов). Это необходимо для того, чтобы автоматические разрывы строк не нарушали эстетику.

### Заголовок

Часть Заголовок (Header) состоит только из одной строки, включающей три поля: тип (обязательно), область применения (необязательно) и тема (обязательно).

#### тип

- **feat**: Новая функция
- **fix**: Исправление ошибки
- **docs**: Документация
- **style**: Формат (изменения, не влияющие на выполнение кода)
- refactor: Рефактор (изменения кода, которые не являются новыми возможностями или исправлениями ошибок)
- **test**: Добавить тесты
- **chore**: Изменения в процессе сборки или вспомогательных инструментах

Если тип - feat или fix, этот коммит обязательно появится в журнале изменений. В остальных случаях (docs, chore, style, refactor, test) вы сами решаете, включать ли их в журнал изменений. Рекомендуется не включать их.

#### область применения

scope используется для указания области применения коммита, например, слой данных, слой управления, слой представления и т. д., что зависит от репозитория.

#### тема

Тема - краткое описание цели коммита, не более 50 символов.

- Начинается с глагола, используется настоящее время от первого лица, например, change, not changed или changes.
- Первая буква строчная
- Не заканчивайте точкой (.)

### Тело

Раздел "Тело" - это подробное описание данного коммита, которое может быть разбито на несколько строк. Вот пример.

> Более подробный пояснительный текст, если необходимо. Сверните его до 72 символов или около того. Дальнейшие абзацы идут после пустых строк. - Пулевые точки тоже подойдут. - Используйте отступ.

Есть два момента, на которые следует обратить внимание.

- Используйте настоящее время от первого лица, например, используйте "изменения" вместо "изменили" или "изменения".
- Следует объяснить мотивацию изменений кода и сравнить их с предыдущим поведением.

### Gодвал

Раздел "Подвал" используется только в двух случаях.

#### 1, Несовместимые изменения

Если текущий код несовместим с предыдущей версией, раздел "Подвал" начинается со слов "КАРДИНАЛЬНЫЕ ИЗМЕНЕНИЯ" (BREAKING CHANGE), затем следует описание изменений, причины изменений и методы миграции.

```bash
BREAKING CHANGE: isolate scope bindings definition has changed.

    To migrate the code follow the example below:

    Before:

    scope: {
      myAttr: 'attribute',
    }

    After:

    scope: {
      myAttr: '@',
    }

    The removed `inject` wasn't generaly useful for directives so there should be no code using it.
```

#### 2. Закрыть задачу

Если текущий коммит связан с задачей, вы можете закрыть задачу в разделе Footer.

> Закрыто #234

Вы также можете закрыть сразу несколько задач.

> Закрывает #123, #245, #992

### Возврат

Есть ещё один особый случай, когда если текущий коммит используется для отмены предыдущего коммита, он должен начинаться с revert:, за которым следует заголовок отменяемого коммита.

> revert: feat(pencil): add 'graphiteWidth' option
>
> Это отменяет фиксацию 667ecc1654a317a13331b17617d973392f415f02.

Формат раздела "Тело" фиксирован и должен быть записан как 'Это отменит коммит <hash>.', где hash - это SHA-идентификатор отменяемого коммита.

Если текущий и отменяемый коммиты находятся в одном релизе, они не будут отображаться в журнале изменений. Если же они находятся в разных релизах, то текущий коммит появится в подразделе "Отмены" журнала изменений.

Эта статья является выдержкой из записи блога Ruanyifeng ['Руководство по написанию сообщений о коммитах в Git'](http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html)