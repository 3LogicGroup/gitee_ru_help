---
title: Триггеры отправки кода
description: Триггеры представления кода
slug: /enterprise/pipeline/source/trigger
keywords:
 - Gitee
 - Триггер отправки кода
---

После привязки источника кода сохраните конвейер, и система автоматически зарегистрирует веб-крючок на платформе сервиса кода. После отправки кода по соответствующему адресу и ветке кода конвейер может быть запущен на выполнение.

## Триггерные события и условия фильтрации

Вы можете использовать конфигурацию триггерных событий и условий фильтрации для фильтрации событий webhook исходного кода.

### События триггеров, поддерживаемые различными источниками кода

| | Gitee | Github | Постоянно обновляется на других платформах |
|---------|-------|-------|-------|
Branch push | ✅ | ✅ | ✅ |
| Tag push | ✅ | ✅ | ✅ |
Обзор кода | ✅ | ❌ | ❌ |

Branch push

Перемещение из локальной ветки в удаленную (или изменение файлов в веб-интерфейсе платформы управления кодом), например, перемещение из локального мастера в origin/master. Конвейер сопоставит целевую ветвь push с условиями фильтра. Если есть совпадение, конвейер будет запущен.

Branch push поддерживает три метода сопоставления, и три правила сопоставления являются пересекающимися, что означает, что если все правила установлены, конвейер может быть запущен только при выполнении всех правил.

- Сопоставление веток: существуют следующие четыре независимых правила сопоставления:
  - Префиксное соответствие: например, если вы заполните 'dev', то будут соответствовать все ветки, начинающиеся с 'dev'; если оставить пустым, то будут соответствовать все ветки.
  - Точное соответствие: Если заполнить dev, то будет соответствовать только ветке dev.
- Соответствие регулярному выражению: Если вы заполните dev.*, то оно будет соответствовать всем веткам с префиксом dev.
- Точное исключение: Если заполнить 'dev', отправка кода в ветку dev не приведет к срабатыванию конвейера. Правила точного исключения имеют наивысший приоритет и обычно используются в сочетании с другими правилами

- Сопоставление файлов и каталогов: существует два следующих независимых правила сопоставления
  - Точное соответствие: Если вы заполните src/main/test.java, фильтрация путей кода будет запускать конвейер только в том случае, если обновления кода удовлетворяют этому правилу.
    - Сопоставление по регулярному выражению: если заполнить src.*, это означает, что для запуска конвейера необходимо обновить путь кода, начинающийся с 'src'.

Сопоставление ключевых слов комментария коммита: поддерживает только сопоставление регулярных выражений
- Соответствие регулярному выражению: Если заполнено '^build.*', это означает, что конвейер будет запущен для кода, представленного с сообщениями коммита, начинающимися с 'build'.

### Отправка тегов

Переместите локальный тег в тег сервера (или создайте тег в веб-интерфейсе платформы управления кодом), например, переместите локальный тег release/0.0.1 на сервер. Конвейер сопоставит имя целевого тега с условием фильтра, и в случае успешного совпадения будет запущен конвейер.

- Сопоставление тегов: Существует четыре независимых правила сопоставления
    - Сопоставление по префиксу: если заполнить v1, он будет соответствовать всем тегам, начинающиеся с v1; если оставить пустым, то совпадают все теги
    - Точное соответствие: если вы заполните v1.1.1, будет выполнено сопоставление только с тегом v1.1.1.
    - Соответствие регулярному выражению: Если заполнить v1.*, оно будет сооветствовать всем тегам с префиксом v1.
- Точное исключение: Если заполнить v1.1.1, то создание тега v1.1.1 не приведет к срабатыванию конвейера. Правило точного исключения имеет наивысший приоритет и обычно используется в сочетании с другими правилами.

### Обзор кода

Проверка кода запускается такими действиями, как инициирование PR, обновление PR и комментирование PR со страницы. Поэтому, если в конвейере настроено инициирование проверки кода, любое из этих трех действий, отвечающих правилам соответствия, автоматически инициирует выполнение конвейера.

Обзор кода поддерживает четыре режима сопоставления, и четыре правила сопоставления пересекаются. То есть только при выполнении всех правил конвейер может быть запущен.

- Сопоставление веток: существуют следующие четыре независимых правила сопоставления
    - Префиксное соответствие: если заполнено dev, то совпадают все ветви, начинающиеся с dev; если оставлено пусто, то совпадают все ветви
- Точное совпадение: Если вписать dev, то будет соответствовать только ветке dev.
    - Сопоставление по регулярному выражению: если вы заполните dev.*, оно будет сопоставляться со всеми ветками с префиксом dev.
- Точное исключение: Например, если вы заполните dev, отправка кода в ветку dev не приведет к срабатыванию конвейера. Правило точного исключения имеет наивысший приоритет и обычно используется в сочетании с другими правилами.

- Сопоставление файлов/директорий исходной ветки: существует два следующих независимых правила сопоставления
  - Точное соответствие: Если вы заполните src/main/test.java, фильтрация путей кода будет запускать конвейер только в том случае, если обновления кода удовлетворяют этому правилу.
    - Соответствие регулярному выражению: если заполнить src.*, это означает, что путь кода, начинающийся с 'src', должен быть обновлен, чтобы запустить конвейер.

- Сопоставление заголовков обзоров: поддерживается только сопоставление регулярных выражений
    - Соответствие регулярному выражению: Если вы заполните ^Production code merge.*, то заголовки запросов на слияние, начинающиеся с Production code merge, будут запускать конвейер при инициировании, обновлении или комментировании запроса на слияние.

- Сопоставление информации о комментарии: Поддерживается только сопоставление с регулярными выражениями
  - Сопоставление с регулярными выражениями: если заполнено
  `^通过.*`, то будет проводиться сопоставление с любым комментарием в запросе на слияние, начинающемся с `通过`.