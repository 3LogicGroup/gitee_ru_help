---
title: Организация конвейеров
description: Организация конвейеров
slug: /enterprise/pipeline/layout
keywords:
 - Gitee
 - Оркестрация контейнеров
---

## Настройки этапа

Этап - это вторичный элемент конвейера, который обычно представляет собой набор схожих задач, например, этап "сканирование кода", который может состоять из трех задач: "сканирование стиля кода", "сканирование безопасности кода" и "сканирование дефектов кода". Конвейер может иметь несколько этапов, которые выполняются последовательно. Основные элементы этапа выглядят следующим образом:

- Имя этапа: Название этапа, которое может повторяться в рамках одного конвейера.
  
- Метод триггера
    - Автоматический триггер: После успешной сборки этапа выше по течению автоматически запускается этап ниже по течению. В случае неудачи последующий этап не может быть запущен.
- Ручной триггер: После успешной сборки этапа восходящего потока этап нисходящего потока не будет запущен автоматически. Необходимо вручную нажать кнопку выполнения.

- Стратегия отказа
    - Быстрый отказ: В основном используется в сценариях, где выполняются параллельные задачи, как показано на рисунке ниже. На этапе сборки есть три параллельные цепочки задач, и когда начнется этап компиляции, все три цепочки задач начнут выполняться одновременно. Если этап 1-1 завершится неудачей, то даже при успешном выполнении этапов 2-1 и 3-1 последующие задачи не будут запущены. То есть при выборе "Быстрый отказ" параллельные цепочки задач могут влиять на статус выполнения друг друга.
- Естественный отказ: В отличие от быстрого отказа, при выборе "естественного отказа" параллельные цепочки задач не влияют друг на друга. Даже если Step1-1 не выполнится, это повлияет только на Step1-2 и Step1-3, в то время как цепочки Step2 и Step3 будут продолжать выполняться нормально, пока все цепочки не завершатся.
    
![Быстрый отказ](./assets/quick_failure.png)

### Примеры использования

![Новый этап](./assets/New Stage.png)

![Новый этап 2](./assets/New Stage 2.png)

## Настройки задачи

Задача - это элемент третьего уровня конвейера, который является дочерним элементом этапа и представляет собой наименьшую единицу выполнения. В рамках этапа задачи могут быть определены для последовательного или параллельного выполнения. По умолчанию задачи выполняются автоматически и не поддерживают ручное выполнение. Задача соответствует плагину и служит контейнером выполнения для плагина. Исходя из этого, общая модель конвейера выглядит следующим образом: Конвейер состоит из нескольких этапов, этап состоит из нескольких задач, а задача состоит из плагина.

Задача содержит следующую базовую информацию:

- Имя задачи: Имя задачи, которое может повторяться в пределах одного этапа.
- Рабочая область: При настройке нескольких источников в конвейере необходимо выбрать рабочий источник, и данные из рабочего источника будут извлекаться во время выполнения.

### Примеры использования

![Создать задачу](./assets/Create Task.png)

![Создать задачу 2](./assets/Create task 2.png)

![Создать задачу 3](./assets/Create Task 3.png)