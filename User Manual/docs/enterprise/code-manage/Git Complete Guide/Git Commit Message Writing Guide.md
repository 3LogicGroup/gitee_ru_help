---
title: Руководство по написанию сообщения о коммите Git
origin-url: https://gitee.ru/help/articles/4231
---

### **Введение**

Каждый раз, когда вы фиксируете изменения кода в Git , вам необходимо написать сообщение о коммите, в противном случае коммит не будет разрешен. Эта операция будет выполнена с помощью команды

```bash
git commit -m "hello world"
```

> Параметр -m в приведенном выше коде используется для указания сообщения о коммите.
Если строки недостаточно, вы можете выполнить только команду git commit, при этом откроется текстовый редактор, в котором вы сможете написать несколько строк.

```bash
git commit
```

### **Формат**

Сообщение о коммите состоит из трех частей: шапки, основной части и подвала. Оно может быть представлено следующей структурой.

```bash
<type>(<scope>): <subject>// Empty line<body>// Empty line<footer>
```

Шапка обязательна, в то время как основной текст и подвал могут быть опущены (игнорируются по умолчанию). Как правило, когда мы указываем параметр -m в команде git commit, это эквивалентно указанию шапки по умолчанию.
> Независимо части длина строки не должна превышать 72 символов (или 100 символов). Это делается для того, чтобы избежать автоматических разрывов строк, влияющих на эстетику.

### **Шапка**

В шапке есть только одна строка, включающая три поля: тип (обязательно), область применения (необязательно) и тема (обязательно).

#### **Тип**

- feat: новая функция
- fix: Исправление бага
- docs:
Стиль документации: форматирование (изменения, не влияющие на исполнение кода)
- refactor: Рефакторинг (т.е. изменения кода, которые не добавляют новых функций и не исправляют ошибки)
- test: Добавить тест
- chore: изменения в процессе сборки или вспомогательных инструментах

Если тип - feat или fix, этот коммит обязательно появится в журнале изменений

#### **Область применения**

Область применения используется для указания области воздействия коммита, такой как уровень данных, уровень управления, уровень представления и т.д., в зависимости от репозитория.

#### **Тема**

тема - краткое описание цели коммита, не превышающее 50 символов.

- Начинайте с глагола, используйте первое лицо настоящего времени, например "изменяю", вместо "изменил" или "изменения" - Первая буква в нижнем регистретре
- Не заканчивайте точкой (.)

### **Тело**

Тело представляет собой подробное описание этого коммита, которое можно разделить на несколько строк. Вот пример.

> Более подробный пояснительный текст, если необходимо. Сократите его примерно до 72 символов. Дальнейшие абзацы идут после пустых строк.- Также допускается применение точечных маркеров - используйте висячий отступ

Есть два важных момента.

- Используйте настоящее время от первого лица, например, используйте "изменить" вместо "изменено" или "changes".
- Следует объяснить мотивацию изменений кода, а также сравнить его поведение с поведением предыдущей версии.

### **Подвал**

Подвал используется только в двух ситуациях.

#### **1. Несовместимые изменения**

Если текущий код несовместим с предыдущей версией, подвал начинается с КРИТИЧЕСКОГО ИЗМЕНЕНИЯ, за которым следует описание изменений, причины их внесения и методов переноса.

```bash
BREAKING CHANGE: isolate scope bindings definition has changed.

    To migrate the code follow the example below:

    Before:

    scope: {
      myAttr: 'attribute',
    }

    After:

    scope: {
      myAttr: '@',
    }

    The removed `inject` wasn't generaly useful for directives so there should be no code using it.
```

#### **2. Закрыть проблему**

Если текущий коммит связан с проблемой, он может быть закрыт в подвале.

> Закрывает #234

Вы также можете закрыть несколько проблем одновременно.

> Закрывает #123, #245, #992

### **Отменить**

Существует также особый случай, когда, если текущий коммит используется для отката предыдущего коммита, он должен начинаться с 'revert:', за которым следует заголовок откатываемого коммита.

> revert: feat(карандаш): добавьте опцию "graphiteWidth"

> Это отменяет коммит 667ecc1654a317a13331b17617d973392f415f02.

Формат тела фиксирован и должен быть записан как "Это откатывает коммит <хэш>", где хэш является SHA-идентификатором возвращаемой фиксации.

Если текущая фиксация и отменяемая фиксация относятся к одному и тому же выпуску, они не будут отображаться в журнале изменений. Если они относятся к разным выпускам, текущая фиксация появится в разделе "Откаты" в журнале изменений.

Эта статья взята из блога Руанйифена ["Руководство по написанию сообщений о коммитах Git"](https://gitee.ru/link?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2016%2F01%2Fcommit_message_change_log.html)