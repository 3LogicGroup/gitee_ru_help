---
title: Как использовать функцию CodeOwners?
origin-url: https://gitee.ru/help/articles/4379
---


При отправке запроса на слияние для ежедневной доставки итераций укажите членов команды для проверки кода. В большинстве случаев, когда изменения кода затрагивают файл или каталог А, в большинстве случаев для выполнения проверки кода назначается постоянный сотрудник Б. Затем мы можем ссылаться на Б как на владельца кода компонента A. Проще говоря, Codeowner используется для определения того, кто отвечает за определенные файлы или каталоги в репозитории.

Чтобы использовать функцию CodeOwner, вам необходимо создать файл CODEOWNERS в указанном местоположении репозитория. Они применяются только к текущей ветви, и указанными местоположениями являются:

- В корневой директории репозитория
- В директории .gitee/
- В директории  docs/

### **Образец файла CODEOWNERS**

```bash
# Code Owners for a file
filename @username1 @username2

# Code Owners for a directory
# You can also use email addresses if you prefer.
directoryname/ @username1 XXXX@qq.com

# Regular expression matching
*.rb @liwen 

# The `docs/*` pattern will match files like
# `docs/getting-started.md` but not further nested files like
# `docs/build-app/troubleshooting.md`.
docs/*  docs@example.com

# In this example, @octocat owns any file in an apps directory
# anywhere in your repository.
apps/ @octocat
```

При совпадении правил нескольких CODEOWNERS в файле будет использоваться пользователь из последнего совпадающего шаблона в файле. Например:

```bash
README.md @user1

# This line would also match the file README.md
*.md @user2
```

README.md принадлежит @user2, и путь к каждому файлу может соответствовать только одному Правилу
  CODEOWNERS.

Эрканироование синтаксиса

Используйте \ для экранирования шаблонов, начинающихся с #, чтобы они обрабатывались как шаблоны, а не как комментарии.
- Используйте [ ] для определения области действия группы. Использование группы заключается в следующем:

```INI
[Documentation]
ee/docs/    @docs
docs/       @docs

[Database]
README.md  @database
model/db/   @database

[DOCUMENTATION]
README.md  @docs
```

Вы можете сделать раздел необязательным, чтобы утверждение проверок кода в этом разделе было необязательным.
Поместите символ вставки ^ перед именем владельца кода

```INI
^[Documentation]
*.md @ligen @liqin

[Config]
*.yml @liwen @normalcoder 

/app/models @xxx @xxx2
```

### **Правила назначения CodeOwner**

- Для указания Codeowner нужно ввести @username или адрес электронной почты.
- Если указанный пользователь не существует на платформе или не существует в качестве разработчика или вышеуказанной роли в репозитории, соответствующий пользователь не будет назначен, и при этом не будет предоставлено никакого конкретного пояснения, почему он не назначен.
- Список назначений ограничен участниками репозитория, за исключением суперадминистраторов версии Enterprise Edition, администраторов, а также администраторов организаций.
- Назначение CODEOWNER выполняется только по последнему правилу
- Запрещается удалять назначение CODEOWNER, оно обновляется с файлами CODEOWNERS.
- Назначение CODEOWNERS: Добавьте соответствующего CODEOWNER в свзяанный запрос на слияние и добавьте журнал присвоения (отправитель назначил CODEOWNER XXXX).
- CODEOWNERS сокращают присвоение: связанные обновления запроса на слияние не удаляют присвоение и не добавляют журналы присвоений (отправитель удалил идентификатор CODEOWNER XXXX).