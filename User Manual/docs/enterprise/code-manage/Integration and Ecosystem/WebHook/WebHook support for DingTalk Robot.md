---
title: Поддержка вебхуков для роботов DingTalk
---

DingTalk предоставляет функцию "Интеллектуального группового помощника" в групповом чате. Используя вебхуки, вы можете добавлять пользовательских роботов в DingTalk для рассылки автоматических уведомлений.

## Добавить робота

В групповом чате Dingtalk перейдите в "Настройки группы" -> "Интеллектуальный групповой ассистент" -> "Добавить робота" и выберите "Пользовательский" робот. Установите изображение профиля и имя для робота, нажмите "Добавить", чтобы получить адрес веб-браузера, и затем нажмите "Готово", чтобы завершить добавление робота в Dingtalk.

![](https://images.gitee.ru/uploads/images/2019/1219/194453_7c7ae14c_551147.png )

![](https://images.gitee.ru/uploads/images/2019/1219/194509_8cdbd130_551147.png )

![](https://images.gitee.ru/uploads/images/2019/1219/195953_08539aca_551147.png )

## Настройка вебхука робота

В предыдущем процессе добавления вы можете получить URL-адрес запроса вебхука, например `https://oapi.dingtalk.com/robot/send?access_token=xxxxxxxxxxxxxxxxx`. Добавьте этот URL-адрес в Gitee, чтобы завершить настройку вебхука.

На странице репозитория Gitee вы можете добавить новый вебхук, перейдя в "Настройки" -> "Вебхуки" -> "Добавить".

Введите URL-адрес вебхука, полученный из предыдущего текста, `WebHook password/signing key`. Выберите использование "ключа подписи" и заполните соответствующее содержимое "ключа подписи", предоставляемое "подписью", выберите конкретные события запуска, активируйте и добавьте, чтобы завершить настройку вебхука.

![](https://images.gitee.ru/uploads/images/2019/1219/200445_db950b4e_551147.png )

## Настройки безопасности

Робот DingTalk на WebHook поддерживает "пользовательские ключевые слова", "подпись", "IP-адрес (диапазон)" для повышения безопасности приема запросов роботом и предотвращения вредоносных запросов.

Пользовательские ключевые слова

После установки пользовательских ключевых слов робот будет запускать только те запросы вебхука, которые содержат указанные пользовательские ключевые слова, максимум до 10.

![](https://images.gitee.ru/uploads/images/2019/1219/195006_2a5c79ea_551147.png )

### Встречная подпись

Установив подпись, вы можете поддерживать подпись запроса для роботов DingTalk, что обеспечивает более высокий уровень безопасности.

![](https://images.gitee.ru/uploads/images/2019/1219/195809_ac4c9a91_551147.png )

### IP-адреса (диапазон)

Установив IP-адреса запроса, вы можете ограничить белый список IP-адресов для запуска робота DingTalk. Поскольку диапазон IP-адресов запросов на обслуживание Gitee не фиксирован, устанавливать белый список IP-адресов не рекомендуется.

![](https://images.gitee.ru/uploads/images/2019/1219/195750_17d422d1_551147.png )

## Запуск вебхуков DingTalk

Запросы вебхуков к DingTalk будут запускаться при настройке робота в следующих сценариях.

- Отправка: Репозиторий загружает код, перемещает ветви, удаляет ветки
- Отправка тегов: Создаёт новый тег, удаляет тег
- Проблема: Создание, закрытие, повторное открытие, удаление задач или изменение назначенных задач
- Запрос на извлечение: Создание запроса на извлечение, обновление запроса на извлечение, запрос на объединение запроса на извлечение
- Комментарий: Комментарий к репозиториям, проблемам (задачам), запросам на извлечение, коммитам

![Описание изображения](https://images.gitee.ru/uploads/images/2019/1009/161438_04ff173d_551147.png)

## Соответствующие показания

- [Вебхук Gitee поддерживает корпоративный WeChat](/help/articles/4296)
- [Вебхук Gitee поддерживает групповых чат-ботов Feishu](/help/articles/4297)