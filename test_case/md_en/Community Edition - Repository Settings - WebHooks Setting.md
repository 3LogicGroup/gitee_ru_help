| Index | Function Module | Test Case Name | Test case type | Priority | Precondition | Step description | Expected result | Remarks |
| - | - | - | - | - | - | - | - | - |
| 1 | Repository Settings/WebHooks Settings | WebHooks - Modify webhooks | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Modify a webhook in the webhook list, check the unselected events, and click 'Update'.<br>2. Clicks 'View More' on a webhook's details page to modify the password or add an event - click 'Update' | 1. Webhooks are updated normally after modification<br>2. null |  |
| 2 | Repository Settings/WebHooks Settings | WebHooks - Cancel modifying webhooks | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Refresh the page after changing the events of webhooks or changing the password/signature key type | 1. Do not modify webhooks after canceling changes |  |
| 3 | Repository Settings/WebHooks Settings | View the request history data of WebHooks | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Click on 'View More' in the webhooks list<br>2. Show a pop-up window and prompt 'There are no work items in this column. Are you sure you want to delete this column?'<br>3. Check if the request type (signature request or password request), duration, and occurrence time are correct | 1. After an event occurs, verify that the webhook's historical data is correct<br>2. null<br>3. null |  |
| 4 | Repository Settings/WebHooks Settings | WebHooks-Add a new webhook without checking the activation item | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo.<br>3. Added DingTalk webhook and logged in to DingTalk app | 1. Do not check the 'Activate' item, check the push event<br>2. Click update<br>3. Submit code in the repository | 1. After submitting the code, unable to receive the pull request information<br>2. null<br>3. null |  |
| 5 | Repository Settings/WebHooks Settings | WebHooks-Update checked events | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo.<br>3. Added DingTalk webhook and logged in to DingTalk app | 1. Uncheck the issue event in webhooks<br>2. Submit an issue in the repository and assign it to a responsible person and collaborator | 1. Unable to receive requests for adding, deleting, and assigning owners/collaborators in the DingTalk app and webhooks list.<br>2. null |  |
| 6 | Repository Settings/WebHooks Settings | WebHooks - View event request template | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo.<br>3. Log in to the Feishu APP | 1. Check all Feishu webhooks events<br>2. Take submitting an issue as an example: After adding an issue<br>3. View the template for Feishu request notification | 1. Template normal<br>2. null<br>3. null |  |
| 7 | Repository Settings/WebHooks Settings | WebHooks- Automatically check the Push event and activate the option when adding webhooks | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Click "Add"<br>2. View selected event | 1. When adding webhooks, the events 'Push' and 'Activate' are checked by default<br>2. null |  |
| 8 | Repository Settings/WebHooks Settings | WebHooks - Add webhook: incorrect URL format | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Add a URL as '??????trwww'<br>"<script>alert("HelloWord")</script>"<br>2. Check the 'ISSUE' event<br>3. Click "Add" | 1. Prompt: Incorrect URL format, please enter an http address with a protocol<br>2. null<br>3. null |  |
| 9 | Repository Settings/WebHooks Settings | WebHooks - Add webhook: incorrect domain name in URL | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. The URL is: https://gitee.ru/Alice/test-repo/hoo<br>2. Check 'Tag Push' event<br>3. Click "Add" | 1. Hint: Incorrect URL domain, please enter an http address containing the correct "domain" or "public IP".<br>2. null<br>3. null |  |
| 10 | Repository Settings/WebHooks Settings | WebHooks - Add webhook: URL format domain is correct, access_token is incorrect | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Add Feishu URL as: https://open.feishu.cn/open-apis/bot/hook/ed572f3fa6674b878240ceb8443dd112<br>2. Check 'Tag Push' event<br>3. Click "Add" | 1. Show the last request result as: { "error": "access token invalid", "ok": false }<br>2. null<br>3. null |  |
| 11 | Repository Settings/WebHooks Settings | WebHooks - Add webhook: Incorrect signature key. | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Add correct DingTalk URL: https://oapi.dingtalk.com/robot/send?access_token=XXX<br>2. Select a signing key and enter an incorrect one: SECafc3d80ac753c93d24f2ee89e4f4676a48fd40e12dcaebd528c1aa | 1. Prompt: {"errcode":310000, "errmsg":"sign not match, more: [https://ding-doc.dingtalk.com/doc#/serverapi2/qf2nxq]"}<br>2. null |  |
| 12 | Repository Settings/WebHooks Settings | WebHooks - Add webhooks: IP does not match. | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Add correct DingTalk URL: https://oapi.dingtalk.com/robot/send?access_token=XXX<br>2. User IP is not in the IP whitelist of DingTalk | 1. Prompt: {"errcode":310000, "errmsg":"sign not match, more: [https://ding-doc.dingtalk.com/doc#/serverapi2/qf2nxq]"}<br>2. null |  |
| 13 | Repository Settings/WebHooks Settings | Delete webhooks in WebHooks. | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Delete a webhook in the webhooks list<br>2. Click 'View More' and then delete on a certain webhooks detail page. | 1. Successfully delete webhooks<br>2. null |  |
| 14 | Repository Settings/WebHooks Settings | WebHooks - Non-administrator access to webhooks management. | Functional testing | P1 | 1. Non-administrators (developers, observers, reporters), visitors<br>2. Select developer account: logic<br>3. Select visitor identity loris: not logged in | 1. Logic opens the URL in the browser: https://gitee.ru/Alice/test-repo/hooks<br>2. Loris opens the URL without logging in: https://gitee.ru/Alice/test-repo/hooks<br>3. loris opens the URL: https://gitee.ru/Alice/test-repo/hooks | 1. Page returns 403<br>2. null<br>3. null |  |
| 15 | Repository Settings/WebHooks Settings | WebHooks - Admin accesses the incorrect webhooks management route. | Functional testing | P1 | Administrator kabenka has logged in | 1. Access the following URL in the browser: https://gitee.ru/Alice/else/hoo | 1. Page returns 404 |  |
| 16 | Repository Settings/WebHooks Settings | WebHooks - Admin accesses the correct webhooks management route. | Functional testing | P1 | Administrator kabenka has logged in | 1. Visit in the browser: https://gitee.ru/Alice/else/hooks | 1. Navigate to the webhooks management page, the page title displays WebHooks |  |
| 17 | Repository Settings/WebHooks Settings | WebHooks-webhooks management compatibility is normal | Functional testing | P1 | 1. Administrator Bob logged in<br>2. Go to the webhooks management page of repository test-repo. | 1. Enter the webhooks management page in Chrome, Firefox, 360 Extreme, EDG, IE, etc.<br>2. Switch internationalization in the above browsers, check if the wording is correct and if the repository modal dialog box has overflow, check if the input and button are normal<br>3. The current repository path is displayed correctly in the modal dialog | 1. The page is normal, hyperlinks are working properly, and button interactions are normal<br>2. null<br>3. null |  |
